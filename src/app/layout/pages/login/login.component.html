<div class="w-10/12 mx-auto mt-16">

    <h2 class="text-main font-bold text-center fa-2x">Login Now</h2>
    <form [formGroup]="loginForm" (ngSubmit)="sendData()" class="mt-6">

       @if(errorMessage){

        <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
          <p> Error :{{errorMessage}}</p>
        </div>

       
       }

        
        <div  class="my-3">
            <label class="font-bold" for="email">Email:</label>
            <input type="email" id="email" class="w-full rounded-lg border-gray-500 mt-2" formControlName="email">

            @if (loginForm.get('email')?.invalid &&loginForm.get('email')?.touched) {

                <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
                
                   
              @if (loginForm.get('email')?.getError('required') ) {
                <p>email is required</p>
              }

              @else if (loginForm.get('email')?.getError('email') ) {
                <p>email invalid</p>
              }

             
              
              </div>

            }

        </div>


        
        <div  class="my-3 relative">

            <label class="font-bold" for="password">Password:</label>
            <input #pass type="password" id="password" class="w-full  rounded-lg border-gray-500 mt-2"formControlName="password">

            <span class="absolute right-3 top-1/2 transform -translate-y-2/2 text-gray-500">
              <i class="fa-regular fa-eye " [class.hidden]="show" (click)="(pass.type='text'); show=true"></i>
            <i class="fa-solid fa-eye-slash" [class.hidden]="!show" (click)="(pass.type='password'); show=false"></i>

            
  

            </span>

            

            @if (loginForm.get('password')?.invalid &&loginForm.get('password')?.touched) {

                <div class="p-4 mb-4 text-sm text-red-800 fixed rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400" role="alert">
                
                   
              @if (loginForm.get('password')?.getError('required') ) {
                <p>password is required</p>
              }

              @else if (loginForm.get('password')?.getError('pattern') ) {
                <p>password invalid</p>
              }

             
              
              </div>

            }

        </div>


       <div class="flex justify-between items-center py-3">
        <a routerLink="/forgetpassword" class="text-red-600">forget Password ?</a>

        <button [disabled]="loginForm.invalid" class="btn-main block ms-auto my-6">Register
         @if (isLogin) {
          <i class="fa-solid fa-spin fa-spinner"></i>
         }
        </button>
       </div>
    </form>
</div>

